{% extends "base.html" %}
{% block title %}Sign Up{% endblock %}
{% block content %}
<form method="POST" onsubmit="return validateWeights()">
    <h3 align="center">Sign your Sponsor</h3>
    <div class="form-group">
        <label for="sponsorname">Sponsor Name</label>
        <input
            type="text"
            class="form-control"
            id="sponsor-name"
            name="sponsor-name"
            placeholder="Enter sponsor name"
        />
    </div>
    <div class="form-group">
        <label for="weight_fos">Field of Study (FOS) Weight</label>
        <input
            type="float"
            class="form-control"
            id="weight_fos"
            name="weight_fos"
            placeholder="Enter FOS Weight"
            min="0"
            max="1"
            oninput="validateWeight(this)"
        />
    </div>
    <div class="form-group">
        <label for="weightgpa">GPA Weight</label>
        <input
            type="float"
            class="form-control"
            id="weightgpa"
            name="weightgpa"
            placeholder="Enter GPA Weight"
            min="0"
            max="1"
            oninput="validateWeight(this)"
        />
    </div>
    <div class="form-group">
        <label for="extracurricularActivities">Extracurricular Activities Weight</label>
        <input
            type="float"
            class="form-control"
            id="weightextracurricularActivities"
            name="weightextracurricularActivities"
            placeholder="Enter Extracurricular Activities Weight"
            min="0"
            max="1"
            oninput="validateWeight(this)"
        />
    </div>
    <div class="form-group">
        <label for="financialStatus">Financial Status Weight</label>
        <input
            type="float"
            class="form-control"
            id="weightfinancialStatus"
            name="weightfinancialStatus"
            placeholder="Enter Financial Status Weight"
            min="0"
            max="1"
            oninput="validateWeight(this)"
        />
    </div>
    <div class="form-group">
        <label for="course">Course</label>
        <select class="form-control" id="course" name="course">
            <option value="" disabled selected>Select your course</option>
            <optgroup label="Business and Management">
                <option value="business_admin">Bachelor of Science in Business Administration</option>
                <option value="accountancy">Bachelor of Science in Accountancy</option>
                <option value="management_engineering">Bachelor of Science in Management Engineering</option>
                <option value="marketing_management">Bachelor of Science in Marketing Management</option>
            </optgroup>
            <optgroup label="Engineering and Technology">
                <option value="civil_engineering">Bachelor of Science in Civil Engineering</option>
                <option value="computer_engineering">Bachelor of Science in Computer Engineering</option>
                <option value="electronics_engineering">Bachelor of Science in Electronics Engineering</option>
                <option value="information_technology">Bachelor of Science in Information Technology</option>
                <option value="mechanical_engineering">Bachelor of Science in Mechanical Engineering</option>
            </optgroup>
            <optgroup label="Health Sciences">
                <option value="nursing">Bachelor of Science in Nursing</option>
                <option value="pharmacy">Bachelor of Science in Pharmacy</option>
                <option value="physical_therapy">Bachelor of Science in Physical Therapy</option>
                <option value="medical_technology">Bachelor of Science in Medical Technology</option>
            </optgroup>
            <optgroup label="Arts and Humanities">
                <option value="communication">Bachelor of Arts in Communication</option>
                <option value="fine_arts">Bachelor of Fine Arts</option>
                <option value="psychology">Bachelor of Arts in Psychology</option>
                <option value="english">Bachelor of Arts in English</option>
            </optgroup>
            <optgroup label="Social Sciences">
                <option value="criminology">Bachelor of Science in Criminology</option>
                <option value="social_work">Bachelor of Science in Social Work</option>
                <option value="sociology">Bachelor of Science in Sociology</option>
            </optgroup>
            <optgroup label="Education">
                <option value="elementary_education">Bachelor of Elementary Education</option>
                <option value="secondary_education">Bachelor of Secondary Education</option>
            </optgroup>
            <optgroup label="Natural Sciences">
                <option value="biology">Bachelor of Science in Biology</option>
                <option value="environmental_science">Bachelor of Science in Environmental Science</option>
                <option value="chemistry">Bachelor of Science in Chemistry</option>
            </optgroup>
            <optgroup label="Hospitality and Tourism">
                <option value="hotel_restaurant_management">Bachelor of Science in Hotel and Restaurant Management</option>
                <option value="tourism_management">Bachelor of Science in Tourism Management</option>
            </optgroup>
            <optgroup label="Law and Governance">
                <option value="laws">Bachelor of Laws</option>
                <option value="public_administration">Bachelor of Public Administration</option>
            </optgroup>
            <optgroup label="Architecture">
                <option value="architecture">Bachelor of Science in Architecture</option>
            </optgroup>
        </select>
    </div>
    <div class="form-group">
        <label for="passingrequirement">Passing Requirement</label>
        <input
            type="float"
            class="form-control"
            id="passingrequirement"
            name="passingrequirement"
            placeholder="Enter Passing Requirement"
            min="0"
            max="100"
            oninput="validateRequirement(this)"
        />
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<script>
    function validateWeight(input) {
        if (input.value > 1) {
            input.value = 1;
        } else if (input.value < 0) {
            input.value = 0;
        }
    }

    function validateRequirement(input) {
        if (input.value > 100) {
            input.value = 100;
        } else if (input.value < 0) {
            input.value = 0;
        }
    }

    function validateWeights() {
        const weight_fos = parseFloat(document.getElementById('weight_fos').value) || 0;
        const weightGPA = parseFloat(document.getElementById('weightgpa').value) || 0;
        const weightExtracurricular = parseFloat(document.getElementById('weightextracurricularActivities').value) || 0;
        const weightFinancial = parseFloat(document.getElementById('weightfinancialStatus').value) || 0;
        const totalWeight = weight_fos + weightGPA + weightExtracurricular + weightFinancial;

        if (totalWeight !== 1) {
            alert('The total weight of FOS, GPA, extracurricular activities, and financial status must be equal to 1.');
            return false;
        }
        return true;
    }
</script>
{% endblock %}
